# FANET API Backend Dev Container

–≠—Ç–æ—Ç Dev Container –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ä–µ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è FANET API Backend –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ VS Code** —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º "Dev Containers"
2. **–ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+P`** –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "Dev Containers: Reopen in Container"
3. **–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–±–æ—Ä–∫–∏** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ API**: `make dev`

## üì¶ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **Go 1.23** - –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **Redis 7** - –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Eclipse Mosquitto** - MQTT –±—Ä–æ–∫–µ—Ä –¥–ª—è FANET –¥–∞–Ω–Ω—ã—Ö
- **MySQL 8.0** - –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **Prometheus + Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Redis Commander** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Redis (–ø–æ—Ä—Ç 8081)
- **Adminer** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è MySQL (–ø–æ—Ä—Ç 8082)
- **Air** - hot reload –¥–ª—è Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **Protocol Buffers** - –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ Go –ø–ª–∞–≥–∏–Ω—ã
- **golangci-lint** - –ª–∏–Ω—Ç–µ—Ä –¥–ª—è Go –∫–æ–¥–∞

## üåê –ü–æ—Ä—Ç—ã –∏ –¥–æ—Å—Ç—É–ø

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|-----|----------|
| FANET API | 8090 | http://localhost:8090 | –û—Å–Ω–æ–≤–Ω–æ–µ API |
| Redis | 6379 | redis://localhost:6379 | Redis —Å–µ—Ä–≤–µ—Ä |
| Redis Commander | 8081 | http://localhost:8081 | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Redis |
| MQTT | 1883 | mqtt://localhost:1883 | MQTT –±—Ä–æ–∫–µ—Ä |
| MySQL | 3306 | mysql://localhost:3306 | MySQL —Å–µ—Ä–≤–µ—Ä |
| Adminer | 8082 | http://localhost:8082 | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å MySQL |
| Prometheus | 9090 | http://localhost:9090 | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ |
| Grafana | 3000 | http://localhost:3000 | –î–∞—à–±–æ—Ä–¥—ã (admin/admin) |

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make deps

# –ó–∞–ø—É—Å–∫ API —Å hot reload
make dev

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Protobuf
make proto

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make test

# MQTT —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make mqtt-test

# –ë—ã—Å—Ç—Ä—ã–π MQTT —Ç–µ—Å—Ç
make mqtt-test-quick

# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
make docker-build
```

## üîß VS Code —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

### Go —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **golang.go** - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Go
- **ms-vscode.vscode-go** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ Go –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### Protocol Buffers
- **zxh404.vscode-proto3** - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ .proto —Ñ–∞–π–ª–æ–≤
- **pbkit.vscode-pbkit** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ Proto –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **mtxr.sqltools** - SQL –∫–ª–∏–µ–Ω—Ç
- **mtxr.sqltools-driver-mysql** - MySQL –¥—Ä–∞–π–≤–µ—Ä
- **cweijan.vscode-redis-client** - Redis –∫–ª–∏–µ–Ω—Ç

### DevOps
- **ms-azuretools.vscode-docker** - Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **ms-kubernetes-tools.vscode-kubernetes-tools** - Kubernetes –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### API —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **humao.rest-client** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ REST API
- **42crunch.vscode-openapi** - OpenAPI –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    A[VS Code Dev Container] --> B[Go Application]
    B --> C[Redis]
    B --> D[MQTT Broker]
    B --> E[MySQL]
    
    F[Redis Commander] --> C
    G[Adminer] --> E
    H[Prometheus] --> B
    I[Grafana] --> H
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö

**Redis Commander**: http://localhost:8081
- –•–æ—Å—Ç: `redis`
- –ü–æ—Ä—Ç: `6379`

**Adminer**: http://localhost:8082  
- –°–µ—Ä–≤–µ—Ä: `mysql`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root`
- –ü–∞—Ä–æ–ª—å: `password`
- –ë–∞–∑–∞: `fanet`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ MQTT

```bash
# –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
mosquitto_sub -h mqtt -t "fb/b/+/f/#" -v

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
mosquitto_pub -h mqtt -t "fb/b/test/f/1" -m "test-message"
```

### –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f .devcontainer/docker-compose.yml logs

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose -f .devcontainer/docker-compose.yml logs redis
docker-compose -f .devcontainer/docker-compose.yml logs mqtt
docker-compose -f .devcontainer/docker-compose.yml logs mysql
```

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f .devcontainer/docker-compose.yml down
docker-compose -f .devcontainer/docker-compose.yml up -d
```

### Go –º–æ–¥—É–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
```bash
# –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª–µ–π
go clean -modcache
go mod download
go mod tidy
```

### Protobuf –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
```bash
# –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
make proto
# –∏–ª–∏
./scripts/proto-gen.sh
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **DEVELOPMENT.md** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- **CLAUDE.md** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- **ai-spec/** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **deployments/** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `vscode` (–Ω–µ root)
- Docker socket –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –¥–ª—è Docker-in-Docker —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏